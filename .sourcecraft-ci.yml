# ğŸš€ SourceCraft Configuration

## ğŸ“‹ **SourceCraft Setup Guide**

SourceCraft - Ñ€Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ°Ñ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹ Git Ğ¸ CI/CD.

### **ğŸ¯ Quick Setup**

#### **1. Create Project in SourceCraft**
```bash
# 1. Register at https://sourcecraft.ru
# 2. Create organization
# 3. Create new project
# 4. Clone repository
git clone <your-sourcecraft-repo-url>
cd <project-name>
```

#### **2. Setup CI/CD**
```yaml
# Create .sourcecraft-ci.yml
# Go to Project Settings â†’ CI/CD
# Enable CI/CD and set variables
```

---

## âš™ï¸ **SourceCraft CI/CD Pipeline**

### **ğŸ“„ .sourcecraft-ci.yml**

```yaml
version: 1.0
project: "katya-ai-rechain-mesh"
description: "AI-powered blockchain gaming IoT social mesh network"

stages:
  - validate
  - test
  - build
  - security
  - deploy

environment:
  flutter: "3.24.0"
  dart: "3.5.0"
  node: "18"

jobs:

  # Code validation
  validate:
    stage: validate
    image: "cirrusci/flutter:stable"
    script:
      - flutter config --enable-web
      - flutter config --enable-linux-desktop
      - flutter config --enable-android
      - flutter config --enable-ios
      - flutter pub get
      - dart format --set-exit-if-changed .
      - flutter analyze
      - flutter pub audit
    only:
      - main
      - develop
      - merge_requests

  # Testing
  test_unit:
    stage: test
    image: "cirrusci/flutter:stable"
    script:
      - flutter config --enable-web
      - flutter pub get
      - flutter test --coverage
      - flutter test --tags=integration
      - flutter test --tags=performance
    coverage:
      format: cobertura
      path: coverage/lcov.info
    artifacts:
      - coverage/
      - test-results/
    only:
      - main
      - develop
      - merge_requests

  test_widget:
    stage: test
    image: "cirrusci/flutter:stable"
    script:
      - flutter config --enable-web
      - flutter pub get
      - flutter test --tags=widget
    artifacts:
      - widget-test-results/
    only:
      - main
      - develop

  # Multi-platform build
  build:
    stage: build
    image: "cirrusci/flutter:stable"
    script:
      # Android
      - flutter build apk --release
      - flutter build appbundle --release
      # iOS
      - flutter build ios --release --no-codesign
      # Web
      - flutter build web --release
      # Desktop
      - flutter build linux --release
      - flutter build windows --release
      - flutter build macos --release
    artifacts:
      - build/
      - android/app/build/outputs/
      - ios/build/
    only:
      - main
      - tags

  # Security scanning
  security:
    stage: security
    image: "securecodewarrior/github-action-sarif-to-gitlab-ci:latest"
    script:
      - flutter pub audit --json
      - flutter analyze --security
      - echo "Running dependency security check..."
    artifacts:
      - security-reports/
    only:
      - main
      - develop
      - merge_requests

  # Deployment to staging
  deploy_staging:
    stage: deploy
    image: "google/cloud-sdk:alpine"
    script:
      - gcloud auth activate-service-account --key-file $GCLOUD_SERVICE_KEY
      - gcloud config set project $GCLOUD_PROJECT_ID
      - gcloud config set compute/zone $GCLOUD_ZONE
      - gcloud container clusters get-credentials $K8S_CLUSTER_NAME
      - kubectl set image deployment/katya-rechain-mesh frontend=$CI_COMMIT_SHA -n staging
      - kubectl rollout status deployment/katya-rechain-mesh -n staging --timeout=600s
    environment:
      name: staging
      url: https://staging.your-domain.ru
    only:
      - develop

  # Deployment to production
  deploy_production:
    stage: deploy
    image: "google/cloud-sdk:alpine"
    script:
      - gcloud auth activate-service-account --key-file $GCLOUD_SERVICE_KEY
      - gcloud config set project $GCLOUD_PROJECT_ID
      - gcloud config set compute/zone $GCLOUD_ZONE
      - gcloud container clusters get-credentials $K8S_CLUSTER_NAME
      - kubectl set image deployment/katya-rechain-mesh frontend=$CI_COMMIT_SHA -n production
      - kubectl rollout status deployment/katya-rechain-mesh -n production --timeout=600s
    environment:
      name: production
      url: https://your-domain.ru
    only:
      - main
      - tags

# Variables
variables:
  FLUTTER_VERSION: "3.24.0"
  DART_VERSION: "3.5.0"
  NODE_ENV: "production"
  BLOCKCHAIN_API_KEY: "your_key"
  AI_API_KEY: "your_key"
  KUBE_CONTEXT: "your-cluster"
  KUBE_NAMESPACE: "production"

# Cache configuration
cache:
  flutter:
    key: flutter-packages
    paths:
      - .pub-cache/
    files:
      - pubspec.lock

  build:
    key: build-artifacts
    paths:
      - build/
      - android/app/build/outputs/
```

---

## ğŸ”§ **SourceCraft Project Configuration**

### **ğŸ“„ .sourcecraft/config.yml**

```yaml
# SourceCraft project configuration
project:
  name: "katya-ai-rechain-mesh"
  description: "AI-powered blockchain gaming IoT social mesh network"
  visibility: "private"
  language: "Dart"
  license: "MIT"

# CI/CD settings
ci_cd:
  enabled: true
  timeout: 3600
  max_concurrent_jobs: 5

  variables:
    FLUTTER_VERSION: "3.24.0"
    DART_VERSION: "3.5.0"
    NODE_ENV: "production"
    BLOCKCHAIN_API_KEY: "secure_value"
    AI_API_KEY: "secure_value"

  notifications:
    enabled: true
    discord:
      webhook_url: "https://discord.com/api/webhooks/..."
    email:
      recipients: ["dev@your-domain.ru"]

# Security settings
security:
  code_analysis: true
  dependency_scanning: true
  vulnerability_management: true
  auto_update: true

# Deployment settings
deployment:
  environments:
    staging:
      kubernetes:
        namespace: "staging"
        cluster: "your-staging-cluster"
      branches: ["develop"]

    production:
      kubernetes:
        namespace: "production"
        cluster: "your-production-cluster"
      branches: ["main"]
      tags: ["v*"]

# Quality gates
quality:
  min_coverage: 80
  security_scan: true
  performance_tests: true

  tools:
    - "Flutter Analyze"
    - "Dart Code Metrics"
    - "Custom Lint"
```

---

## ğŸ“‹ **SourceCraft Issue Templates**

### **ğŸ› Bug Report Template**

```yaml
# .sourcecraft/issue_templates/bug_report.md
name: "Bug Report"
title: "[Bug]: "
labels: ["bug", "triage"]

fields:
  - name: "version"
    type: "input"
    label: "Application Version"
    placeholder: "1.0.0"

  - name: "platform"
    type: "dropdown"
    label: "Platform"
    options:
      - "Android"
      - "iOS"
      - "Web"
      - "Desktop (Linux)"
      - "Desktop (Windows)"
      - "Desktop (macOS)"

  - name: "description"
    type: "textarea"
    label: "Bug Description"
    placeholder: |
      Steps to reproduce:
      1. Go to...
      2. Click on...
      3. Error occurs...

  - name: "expected"
    type: "textarea"
    label: "Expected Behavior"

  - name: "actual"
    type: "textarea"
    label: "Actual Behavior"

  - name: "environment"
    type: "input"
    label: "Environment"
    placeholder: "Android 12, Chrome 108"
```

---

## ğŸ“š **SourceCraft Documentation**

### **ğŸ“„ README_SOURCECRAFT.md**

```markdown
# ğŸš€ Katya AI REChain Mesh - SourceCraft Setup

## ğŸ“‹ **Quick Start**

### **1. Create Project in SourceCraft**

1. Register at [SourceCraft](https://sourcecraft.ru)
2. Create an organization
3. Create a new project
4. Clone the project:
```bash
git clone <your-sourcecraft-repo-url>
cd <project-name>
```

### **2. Setup CI/CD**

1. Go to **Project Settings â†’ CI/CD**
2. Enable CI/CD
3. Add environment variables:
   - `FLUTTER_VERSION: "3.24.0"`
   - `DART_VERSION: "3.5.0"`
   - `BLOCKCHAIN_API_KEY: "your_key"`

### **3. First Run**

```bash
# Install dependencies
flutter pub get

# Check code
flutter analyze

# Run tests
flutter test

# Build application
flutter build web --release
```

## ğŸ”§ **Development Commands**

```bash
# Development mode
flutter run

# Build for all platforms
flutter build apk --release
flutter build ios --release
flutter build web --release
flutter build linux --release

# Testing
flutter test
flutter test --coverage

# Code analysis
flutter analyze
```

## ğŸš€ **Deployment**

### **Automatic Deployment**
- Push to `main` â†’ Production deployment
- Push to `develop` â†’ Staging deployment
- Create tag â†’ Release build

### **Manual Deployment**
```bash
# Build Docker image
docker build -t katya-rechain-mesh:1.0.0 .

# Deploy to Kubernetes
kubectl apply -f k8s/deployment.yml

# Or use Helm
helm install katya-rechain-mesh ./helm
```

## ğŸ“Š **Monitoring**

Available after deployment:
- **Prometheus**: http://monitoring.your-domain.ru:9090
- **Grafana**: http://monitoring.your-domain.ru:3000
- **Kibana**: http://monitoring.your-domain.ru:5601

## ğŸ”’ **Security**

Configured according to:
- âœ… FZ-152 (Personal Data Protection)
- âœ… FZ-187 (Critical Infrastructure Security)
- âœ… GDPR compliance
- âœ… Regular vulnerability scanning

## ğŸ“ **Support**

- **Issues**: [Create Issue](https://sourcecraft.ru/project/issues)
- **Documentation**: [Project Wiki](https://sourcecraft.ru/project/docs)

---

## ğŸŠ **Ready to Use!**

Your project is configured for SourceCraft! ğŸš€
```

---

## ğŸŠ **SourceCraft Setup Complete!**

**âœ… Your project is ready for SourceCraft:**

- âœ… **CI/CD configured** with full pipeline
- âœ… **Security ensured** with vulnerability scanning
- âœ… **Deployment automated** for all platforms
- âœ… **Documentation ready** for the team

**ğŸš€ Ready for development with SourceCraft!** ğŸ‰
```

---

**Next: Creating Gitea and Russian cloud provider configurations!** ğŸš€
